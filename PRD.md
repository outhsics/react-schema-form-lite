# 产品需求文档 (PRD) - 轻量级动态表单引擎

## 1. 项目概述
**项目名称**：React Schema Form Lite
**核心目标**：打造一个轻量级、可扩展、开发者友好的元数据驱动（Metadata Driven）表单引擎。
**主要受众**：React 开发者、初学者（用于学习元数据编程）、中后台系统开发人员。
**核心价值**：
- **JSON 即表单**：后端下发 JSON 配置，前端自动渲染复杂表单。
- **解耦架构**：通过组件注册模式（Registry Pattern）实现核心引擎与 UI 组件库的解耦。
- **高性能**：基于 Hook 管理状态，避免全量重渲染。

## 2. 核心功能及需求
### 2.1 基础渲染能力
- 支持通过 JSON Schema 描述表单结构。
- 自动化渲染标准表单项：Input, Select, Number, Switch, Radio, Checkbox。
- 支持默认值 (`defaultValue`) 和 占位符 (`placeholder`)。

### 2.2 复杂结构支持
- **分组 (Group)**：支持逻辑分组（如“基本信息”、“详细资料”），支持嵌套。
- **列表 (List/Array)**：支持数组类型的字段，动态添加/删除行（由于是 Lite 版本，初期可作为扩展项，优先实现 Group 递归）。
- **递归渲染**：引擎需具备处理无限嵌套层级的能力。

### 2.3 动态联动 (Dependencies)
- 支持字段间的被动联动（Passive Dependency）。
- **场景**：当字段 A 的值满足特定条件时，字段 B 显示/隐藏 或 改变必填状态。
- **示例**：选择 "性别" 为 "男" -> 显示 "胡须长度" 输入框。

### 2.4 校验机制 (Validation)
- 必填校验 (`required`)。
- 正则表达式校验 (`pattern`)。
- 自定义错误文案。

### 2.5 扩展性
- **组件注册表**：不硬编码组件类型，允许外部注册自定义组件（如富文本编辑器、图片上传）。
- **TypeScript 支持**：提供完整的类型定义，保障开发体验。

## 3. 技术架构规范
- **框架**：React + TypeScript
- **状态管理**：React Hook Form (兼顾性能与易用性)
- **UI 库**：Ant Design (作为默认 UI 实现)
- **样式**：TailwindCSS (用于布局和自定义样式)
- **构建工具**：Vite

## 4. 交互设计（Demo 页）
- **左侧**：JSON 编辑器（实时代码编辑）。
- **右侧**：表单实时预览区域。
- **响应式**：修改左侧 JSON，右侧表单即时更新（需做防抖处理）。
